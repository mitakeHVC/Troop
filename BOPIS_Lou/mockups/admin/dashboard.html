<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理者ダッシュボード - BOPIS</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div class="header">
    <h1>BOPIS - 管理者専用</h1>
    <div class="flex items-center">
      <span class="mr-4">ようこそ 管理者様</span> <!-- Comma removed -->
      <span id="admin-tenant-name" class="mr-4 text-sm badge badge-info">テナント: ...</span>

      <div id="admin-offline-indicator" class="badge badge-danger items-center" style="display: none; margin-right: 10px; padding: 5px 8px; height: fit-content;">
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 5px;"><path d="M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.448 8.448 0 0 1 8 7.005l.002.002.807.807a.532.532 0 0 1 .07.643.48.48 0 0 1-.593.144A6.455 6.455 0 0 0 8 9l-.933.933a6.455 6.455 0 0 0-2.013-.637c-.285-.145-.326-.524-.1-.75l.015-.015a.532.532 0 0 1 .611-.09A5.478 5.478 0 0 1 8 8c.058 0 .117.002.175.005l.825-.825A.5.5 0 0 1 9.5 7a.5.5 0 0 1 .354.146l.707.707a.5.5 0 0 1 0 .708l-.707.707-.001.001a.5.5 0 0 1-.354.146.5.5 0 0 1-.354-.146L8.146 8.146A.5.5 0 0 1 8 8a.5.5 0 0 1-.146-.354L7.146 7a.5.5 0 0 1 .146-.354l.001-.001zM8 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-3a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/><path d="M1.146 1.146a.5.5 0 0 1 .708 0l13 13a.5.5 0 0 1-.708.708l-13-13a.5.5 0 0 1 0-.708z"/></svg>
          オフライン
      </div>
      <button id="admin-sync-button" class="btn btn-sm btn-info" style="margin-right: 10px; height: fit-content;">
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 5px;"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/></svg>
          同期
      </button>

      <a href="products.html" class="btn btn-sm btn-secondary" style="margin-right: 5px;">商品管理</a>
      <a href="staff.html" class="btn btn-sm btn-secondary" style="margin-right: 5px;">スタッフ管理</a>
      <a href="lanes.html" class="btn btn-sm btn-secondary" style="margin-right: 5px;">レーン管理</a>
      <a href="#" id="admin-logout-button" class="btn btn-sm btn-danger">ログアウト</a>
    </div>
  </div>
  
  <div class="container py-6">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-3xl font-semibold">管理者ダッシュボード</h2>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
      <div class="card text-center p-6 shadow-lg">
        <h3 class="text-lg font-medium text-gray-600 mb-1">本日の注文</h3>
        <p id="stats-today-orders-count" class="text-4xl font-bold text-primary">...</p>
      </div>
      <div class="card text-center p-6 shadow-lg">
        <h3 class="text-lg font-medium text-gray-600 mb-1">準備完了</h3>
        <p id="stats-ready-orders-count" class="text-4xl font-bold text-green-500">...</p>
      </div>
      <div class="card text-center p-6 shadow-lg">
        <h3 class="text-lg font-medium text-gray-600 mb-1">受渡完了</h3>
        <p id="stats-completed-orders-count" class="text-4xl font-bold text-blue-500">...</p>
      </div>
      <div class="card text-center p-6 shadow-lg">
        <h3 class="text-lg font-medium text-gray-600 mb-1">総売上 (本日)</h3>
        <p id="stats-total-sales" class="text-4xl font-bold text-purple-500">...</p>
      </div>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2 card shadow-lg">
            <h3 class="text-xl font-semibold mb-4">最近の注文</h3>
            <div class="overflow-x-auto">
                <table class="table w-full">
                    <thead>
                      <tr><th>注文ID</th><th>日時</th><th>受取時間枠</th><th>商品数</th><th>合計金額</th><th>ステータス</th><th>操作</th></tr>
                    </thead>
                    <tbody id="recent-orders-tbody">
                      <tr><td colspan="7" class="text-center py-4">読み込み中...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card shadow-lg">
            <h3 class="text-xl font-semibold mb-4">在庫アラート (残り10点以下)</h3>
            <ul id="stock-alerts-ul" class="space-y-1 text-sm">
                <li class="p-2">読み込み中...</li>
            </ul>
             <div class="text-right mt-4">
                <a href="products.html" class="btn btn-sm btn-outline">在庫管理へ</a>
             </div>
        </div>
    </div>
  </div>
  
  <div class="footer">
    <p>&copy; 2025 BOPIS System</p>
  </div>
  <script type="module" src="../../frontend/js/pages/admin/dashboard-page.js"></script>
</body>
</html>